import{I as u,u as p,r as f}from"./index-Cb938nQD.js";import{G as a}from"./glTFLoader-C0uRvnkq.js";import"./objectModelMapping-D8Z0jr_m.js";const s="MSFT_sRGBFactors";class l{constructor(r){this.name=s,this._loader=r,this.enabled=this._loader.isExtensionUsed(s)}dispose(){this._loader=null}loadMaterialPropertiesAsync(r,t,e){return a.LoadExtraAsync(r,t,this.name,(n,c)=>{if(c){if(!(e instanceof u))throw new Error(`${n}: Material type not supported`);const d=this._loader.loadMaterialPropertiesAsync(r,t,e),i=e.getScene().getEngine().useExactSrgbConversions;return e.albedoTexture||e.albedoColor.toLinearSpaceToRef(e.albedoColor,i),e.reflectivityTexture||e.reflectivityColor.toLinearSpaceToRef(e.reflectivityColor,i),d}return null})}}p(s);f(s,!0,o=>new l(o));export{l as MSFT_sRGBFactors};
